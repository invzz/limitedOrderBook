cmake_minimum_required(VERSION 3.10)  # Adjust version as necessary
project(OrderBook)

include(cmake/automate-vcpkg.cmake)

vcpkg_bootstrap()
vcpkg_integrate_install()
vcpkg_install_packages(cmocka)

find_package(cmocka CONFIG REQUIRED)


# Specify output directory for the executable
set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_SOURCE_DIR}/dist)

# Specify the C standard
set(CMAKE_C_STANDARD 11)  # Use C11, adjust if needed

# Specify include directories
include_directories(inc)

# Create a variable for the hash map source files
set(HASH_MAP_SRC
    src/hashmap/book.c
    src/hashmap/order.c
    src/hashmap/structs.c
)

# Create an executable target
add_executable(order_book src/main.c)

# Link the linked list sources to the executable
target_sources(order_book PRIVATE ${HASH_MAP_SRC})
